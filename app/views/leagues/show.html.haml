- if @competition.private?
  .alert.alert-warning
    %span.glyphicon.glyphicon-lock
    Private

- if user_can_edit_league?
  = link_to edit_league_path(@competition), class: 'btn btn-default pull-right', type: 'button' do
    Manage
    %span.glyphicon.glyphicon-cog

%h1= @competition.name

.panel.panel-default
  .panel-heading Info
  .panel-body= markdown @competition.description

.panel.panel-default
  .panel-heading Teams
  %ul.list-group
    - if @competition.signuppable?
      - @competition.rosters.each do |roster|
        %li.list-group-item
          = link_to roster, league_roster_path(@competition, roster)

    - else
      - @competition.divisions.each do |div|
        %li.list-group-item
          %h3= div.name
          %ul.list-group
            - div.rosters.where(approved: true).each do |roster|
              %li.list-group-item
                = link_to roster, league_roster_path(@competition, roster)
                .pull-right
                  |#{roster.score_s}|

  - if user_signed_in? && current_user.can_any?(:edit, :team) && @competition.signuppable?
    .panel-body
      = link_to 'Sign up', new_league_roster_path(@competition),
                           class: 'btn btn-success pull-right',
                           disabled: current_user.entered?(@competition)

- if user_can_edit_league?
  .panel.panel-default
    .panel-heading Admin
    .panel-body
      = link_to 'Signups', league_rosters_path(@competition), class: 'btn btn-default pull-right'
      = link_to 'Matches', league_matches_path(@competition), class: 'btn btn-default pull-right'
